
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="정준기의 개발공간 (dev.joongi)">
    <title>웹 보안의 중요성 -넥슨의 실수- (The importance of web security) - 정준기의 개발공간 (dev.joongi)</title>
    <meta name="author" content="jung joongi">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/rss2.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jung joongi","sameAs":["https://github.com/jungjoongi","https://facebook.com/joongi.jung.kr","mailto:dev.joongi@gmail.com"],"image":"profile.jpg"},"articleBody":"개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.지난 9월 마지막 주간이었나 그쯔음 있었던 일이었다.이제 개발에 입문한지 얼마되지 않아 개발을 하면서 다른 웹사이트를 탐방하며 겪었던 에피소드이다. 개발에 들어선지 얼마 되지않아 타 웹사이트를 탐방하게 된것이 사건의 시작이었다.\n슬슬 눈에 코드가 들어오고 돌아가는 구조가 보이게되면 타 사이트를 분석도 해보고 장난질? 도 해본 경험들쯤은 아마 있었을것 같다.실제로 정말 허접하게 개발된 사이트도 많이 만나게되었고 웬만하게 잘 많들어놓은 사이트도 대다수 많이있었다.그런데 이번에는 정말 큰 회사 넥슨 의 페이지를 장난질? 하다가 웹에서 클라이언트 데이터조작이 되어버린 사례를 공개하려고 한다.\n#서버와 클라이언트의 역할먼저 웹에서는 크게 서버와 클라이언트로 나누어 볼 수가 있다.웹을 개발할때에 특별한케이스가 아니라면 클라이언트쪽에서는 데이터를 조작하지 못하게 막아두는것이 맞을것이다.기본이지만 보통 데이터를 처리하는 하는것은 서버에서 처리를 한다.\n요즘은 Ajax 비동기 통신을 통해 클라이언트와 서버쪽이 json데이터로 통신을 하게된다. 그렇지만 json은 서버와 클라이언트의 중간에서 json형식으로 데이터를 주고받기만 할뿐 처리를 하는부분은 서버에서 전달받은 데이터로 처리를 하게된다.\n1클라이언트 (Ajax 요청) --&gt; 서버 (응답 --&gt; 내부적 처리 --&gt; 클라이언트 전달) --&gt; 클라이언트 처리된 결과 수신\n크게보면 웹사이트는 대부분 이러한 구조로 돌아가고있다.물론 처리부분에서 내부적으로 많은일이 일어나겠지만 생략하겠다.\n중요한 사실은 클라이언트쪽(html/javascript…등)은 브라우저에서 얼마든지 조작하고 넘겨버릴 수 있기때문에!!“스크립트로직으로 데이터 무결성을 책임지겠다?” 라는말은 절대로 있어서도 안될 일일 것이다.\n그래서 서버와 클라이언트의 역할은 분명한 것이다. 클라이언트측에서 보안을 담당하는것은 절대로 있어서도 안될것이다. 나도 처음 아무것도 몰랐을때에 스크립트 로직으로 보안을 담당하려고했던 어리석은 시절이 있었기때문에 누구나 모르면 실수할 수도있다. 그렇지만 두번다시 반복된 실수는 있어서는 안된다. \n이것이 왜 절대로 안되는것인지 간단한 예시를 통해서 보여주도록 하겠다.\n국내 커뮤니티 뽐뿌 - 데이터 조작전 예시\n허접한 페이지를 찾을수가 없어 정상적인 게시판을 통해 이야기를 하겠습니다.노란 하이라이트를 보게되면 삭제하기버튼에 링크가 걸려있는게 delete명령을 수행하는 get방식 주소이다. url방식으로 서버에 정의해놓은 delete방식의 양식에따라 요청이 들어오면 삭제명령이 수행되는 것이다.key값으로 게시글번호가 있다. 개발자도구로 이 게시글 번호쯤이야 조작해서 변경해버릴 수가 있다. 그래서 게시글 번호를 조작한 다음에 서버에 요청을 하면 어떤 결과가 일어날까? 내 게시글이 아닌 다른사람의 게시글이 삭제가 될까?\n국내 커뮤니티 뽐뿌 - 데이터 조작한 결과\n결론은 삭제가 되지 않는다. 왜냐하면! 클라이언트쪽에서 얼마든지 key값을 변경할 수 있기 때문이다. 삭제명령이 들어가면 보통 세션에 담겨있는 로그인 정보를 통해 확인을 하는 절치를 밟는다. 그래서 클라이언트쪽에서 로직으로 막아놓는것이 아니라 이것은 서버에서 담당을 해야하는 일이다.아마 웬만한 사이트는 이정도의 보안취약점을 달고다니진 않을것이다.. \n그런데 서론과 제목에 이야기했다시피 넥슨에 관련된 보안취약점을 발견한 것이다. 도대체 어떤 실수를 했는지 한번 알아보도록 하겠다.\n#Ajax data를 가로채보자내가 가끔 즐겨하는 게임이 있다. 그것은 바로 넥슨에 있는 피파온라인4이 사건이 일어냈을때쯤은 아마 추석연휴였던것같다. 정확히는 기억이 나지 않는다. \n피파온라인은 웹페이지에서 이벤트를 참 많이하는 게임중 하나이다.예를들어 주사위 굴리기, 아이템 소비해서 랜덤하게 뽑기 등..\n시간이 오래되어 직접적인 코드는 볼순없지만 비슷한 구조로 되어있기때문에 현재 이벤트중인 페이지를 놓고 이야기를 해보겠다.\nFIFA ONLINE4 이벤트 스크립트 일부분123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203var E181018AllInOne = new function () &#123;      this.GetMyInfoForHeader = function (obj) &#123;       this.GetMyInfo = function () &#123;        if (DefaultCheck()) &#123;            checkLoad();            $(\"#GetMyInfo\").attr(\"onclick\", \"return false;\");            setTimeout(function () &#123;                $.ajax(&#123;                    type: \"GET\",                    contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",                    url: '/181018/AllInOneAjaxInfo',                    dataType: 'json',                    data: &#123; \"strMethod\": \"getMyInfo\", rd: Math.random() &#125;,                    success: function (data) &#123;                                                if (data.retCode == 0) &#123;                                                        $(\"#divUseAblePoint\").html(comma(data.n4TotalPoint - data.n4TotalUsePoint));                            $(\"#divTodayPoint\").html(comma(data.n4TodayPoint));                            $(\"#strTodayPoint\").html(comma(data.n4TodayPoint) + \"P\");                            $(\".coach_info\").find(\".mypoint\").html(comma(data.n4TodayPoint));                            $(\"#divTotalPoint\").html(comma(data.n4TotalPoint));                            $(\"#divWeekUseAblePoint\").html(comma(data.n4ThisWeekRemainPoint));                            $(\"#divWeekUsePoint\").html(comma(data.n4ThisWeekUsePoint));                            $(\"#strWeekPoint\").html(comma(data.n4ThisWeekUsePoint) + \"P\");                            $(\"#divTotalUseAblePoint\").html(comma(data.n4TotalUsePoint - data.n4TotalChagePoint));                            $(\"#divTotalUsePoint\").html(comma(data.n4TotalUsePoint));                                                        if (data.n4ThisWeekRemainPoint &gt;= 100) &#123;                                $(\".eventinfo2\").removeClass(\"disable\");                            &#125;                            else &#123;                                $(\".eventinfo2\").addClass(\"disable\");                            &#125;                            if (data.n4TotalUsePoint - data.n4TotalChagePoint &gt;= 150) &#123;                                $(\".eventinfo3\").removeClass(\"disable\");                            &#125;                            else &#123;                                $(\".eventinfo3\").addClass(\"disable\");                            &#125;                            $(\"#EventInfo1\").html(data.strEventHtml1);                            $(\"#EventInfo2\").html(data.strEventHtml2);                            $(\"#EventInfo3\").html(data.strEventHtml3);                                                        $(\".group-a\").hide();                            $(\".group-b\").hide();                            if (data.n1ShowType == 1) &#123;                                $(\".group-a\").show();                            &#125;                            if (data.n1ShowType == 2) &#123;                                $(\".group-b\").show();                            &#125;                            $(\".coach_info\").find(\".date\").html(data.n4CurrentWeek + \"주차 \" + data.strToday);                            if (data.n4CurrentWeek &gt; 3) &#123;                                $(\"#secEvent2\").removeClass(\"before\");                            &#125;                        &#125;                        else if (data.retCode == 1) &#123;                            CommonEvent.Login();                        &#125;                        else if (data.retCode == 100) &#123;                            ShowMessage(data.retMsg);                                                    &#125;                        else if (data.retCode &lt; 100) &#123;                            ShowMessage(GetMessage(data.retCode));                        &#125;                        else &#123;                            ShowMessage(\"정의 되지 않은 오류가 발생 하였습니다.\");                        &#125;                        checkLoadClear();                        $(\"#GetMyInfo\").attr(\"onclick\", \"E181018AllInOne.GetMyInfo(); return false;\");                    &#125;,                    error: function (xhr, status, exception) &#123;                                                ShowMessage(\"죄송합니다.\\n조회에 실패하였습니다.\");                        $(\"#GetMyInfo\").attr(\"onclick\", \"E181018AllInOne.GetMyInfo(); return false;\");                        checkLoadClear();                    &#125;                &#125;);            &#125;, 1000);        &#125;        else &#123;            checkEnd();                        $(\"#GetMyInfo\").attr(\"onclick\", \"E181018AllInOne.GetMyInfo(); return false;\");        &#125;        return false;    &#125;,        if (DefaultCheck()) &#123;            $checkOn();            $(obj).attr(\"onclick\", \"return false;\");            setTimeout(function () &#123;                $.ajax(&#123;                    type: \"GET\",                    contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",                    url: '/181018/AllInOneAjaxInfo',                    dataType: 'json',                    data: &#123; \"strMethod\": \"getMyInfo\", rd: Math.random() &#125;,                    success: function (data) &#123;                        if (data.retCode == 0) &#123;                            if (location.href.toLowerCase().indexOf(\"/181018/allinone\") &gt; -1) &#123;  //현재 페이지가 올인원 페이지 라면                                E181018AllInOne.GetMyInfo();                            &#125;                            $(\"#strTodayPoint\").html(comma(data.n4TodayPoint) + \"P\");                            $(\"#strWeekPoint\").html(comma(data.n4ThisWeekUsePoint) + \"P\");                            $(\".group-a\").hide();                            $(\".group-b\").hide();                            if(data.n1ShowType == 1)                            &#123;                                $(\".group-a\").show();                                                            &#125;                            if (data.n1ShowType == 2)                            &#123;                                $(\".group-b\").show();                            &#125;                                                    &#125;                        else if (data.retCode == 1) &#123;                            CommonEvent.Login();                        &#125;                        else if (data.retCode == 100) &#123;                            ShowMessage(data.retMsg);                        &#125;                        else if (data.retCode &lt; 100) &#123;                            ShowMessage(GetMessage(data.retCode));                        &#125;                        else &#123;                            ShowMessage(\"정의 되지 않은 오류가 발생 하였습니다.\");                        &#125;                        $checkOff();                        $(obj).attr(\"onclick\", \"E181018AllInOne.GetMyInfoForHeader(this); return false;\");                    &#125;,                    error: function (xhr, status, exception) &#123;                        ShowMessage(\"죄송합니다.\\n조회에 실패하였습니다.\");                        $(obj).attr(\"onclick\", \"E181018AllInOne.GetMyInfoForHeader(this); return false;\");                        $checkOff();                    &#125;                &#125;);            &#125;, 1000);        &#125;        else &#123;            checkEnd();            $(\"#GetMyInfo\").attr(\"onclick\", \"E181018AllInOne.GetMyInfo(); return false;\");        &#125;        return false;    &#125;,    this.ChangeConfirm = function (obj, type1, point, n4currentweek) &#123;                if (DefaultCheck()) &#123;                         var ThisUseAblePoint = parseInt(uncomma($(\"#divUseAblePoint\").html()));            var ThisWeekUsePoint = parseInt(uncomma($(\"#divWeekUseAblePoint\").html()));            var ThisTotalUsePoint = parseInt(uncomma($(\"#divTotalUseAblePoint\").html()));                        if(type1 == 1)            &#123;                                $(\".layer_random .layerContent .txt\").html(\"&lt;strong&gt;5 포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt;뽑기를 진행하시겠습니까?\");                $(\".layer_random .layerContent .box .get_point .c\").html(\"-5\");                $(\".layer_random .layerContent .box .get_point .r\").html(comma(ThisUseAblePoint - 5));                $(\".layer_random .layerContent .box .week_point .c\").html(n4currentweek == 7 ? \"+0\" : \"+5\");                $(\".layer_random .layerContent .box .week_point .r\").html(n4currentweek == 7 ? comma(ThisWeekUsePoint) :comma(ThisWeekUsePoint + 5));                $(\".layer_random .layerContent .box .total_point .c\").html(\"+5\");                $(\".layer_random .layerContent .box .total_point .r\").html(comma(ThisTotalUsePoint + 5));                                layerPopupOpen('layer_random');                $(\".layer_random\").find(\".btn_confirm\").attr(\"onclick\", \"E181018AllInOne.ChangeGo(this, 1); return false;\");            &#125;            else if(type1 == 2)            &#123;                $(\".layer_random .layerContent .txt\").html(\"&lt;strong&gt;30 포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt;뽑기를 진행하시겠습니까?\");                $(\".layer_random .layerContent .box .get_point .c\").html(\"-30\");                $(\".layer_random .layerContent .box .get_point .r\").html(comma(ThisUseAblePoint - 30));                $(\".layer_random .layerContent .box .week_point .c\").html(n4currentweek == 7 ? \"+0\" : \"+30\");                $(\".layer_random .layerContent .box .week_point .r\").html(n4currentweek == 7 ? comma(ThisWeekUsePoint) : comma(ThisWeekUsePoint + 30));                $(\".layer_random .layerContent .box .total_point .c\").html(\"+30\");                $(\".layer_random .layerContent .box .total_point .r\").html(comma(ThisTotalUsePoint + 30));                layerPopupOpen('layer_random');                $(\".layer_random\").find(\".btn_confirm\").attr(\"onclick\", \"E181018AllInOne.ChangeGo(this, 2); return false;\");            &#125;            else if(type1 == 3 || type1 == 4) &#123;                layerPopupOpen('layer_change');                $(\".layer_change .layerContent .txt\").html(\"&lt;strong&gt;\" + point + \"포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt; 주간 보상 교환을 진행하시겠습니까?\");                $(\".layer_change\").find(\".btn_confirm\").attr(\"onclick\", \"E181018AllInOne.ChangeGo(this, \" + type1 + \"); return false;\");            &#125;            else &#123;                layerPopupOpen('layer_change');                $(\".layer_change .layerContent .txt\").html(\"&lt;strong&gt;\" + point + \"&lt;/strong&gt;포인트(P)를 사용하여&lt;br/&gt; 누적 보상 교환을 진행하시겠습니까?\");                $(\".layer_change\").find(\".btn_confirm\").attr(\"onclick\", \"E181018AllInOne.ChangeGo(this, \" + type1 + \"); return false;\");            &#125;        &#125;    &#125;\n사실 코드 내용보다는 구조적인것을 설명하기위해서 코드를 가져다가 붙여놓았다.\n프론트단에서는 모듈형식으로 로직이 짜여져있다. 서버와 통신은 전부 Ajax(json)로 통신을 하고있는 구조이다.서버에 포인트를 조회하라는 명령을 내리고 서버는 포인트를 조회해 Ajax(json)으로 넘겨주면 프론트에서 넘겨받은 데이터로 로직이 짜여있다.여기까지는 잘 되어있다.그렇지만 방금전 국내 커뮤니티 뽐뿌 - 데이터 조작전 예시 를 봤으면 알겠지만 우리는 개발자도구로 이 모든것을 편집할 수가 있다.\nHTML, CSS는 물론 JAVASCRIPT까지 모두 실시간으로 편집할 수가 있다.그래서 나는 조회를 할때에 ajax통신을 하고난 후 그 결과의 data를 중간에서 가로채고 그 데이터를 변조하였다.12345678예를들어 이렇게 데이터를 받아온다고 가정했을때 중간에 그 데이터를 가로채서 변조하였다.과정 ==&gt;data = &#123;todayPoint:10, totalPoint:10&#125;  // 처음 받아온 값data.todayPoint = 20;data.totalPoint = 100;결과 =&gt;data = &#123;todayPoint:20, totalPoint:100&#125; // 중간에 변조한 값\n사실 Ajax통신한 결과값 데이터를 가로챈다는것은 매우 자연스러운일 일수도 있고 누구든지 쉽게 할 수 있는것이다.나는 이러한 결과로 포인트가 적어서 활성화가 되지 않았던 버튼들이 활성화가 되었고 그 이후의 작업을 연장해 나갈 수가 있었다.\n과연, 이러한 결과로 인해서 데이터 조작이 성공할까? \n#넥슨의 실수나는 가로챈 데이터를 통해서 어러 모듈에 얽여있는 잠금(?)들이 풀려나가서 Insert를 할수있는 환경을 만들어나갔다.여태까지는 받아온 데이터를 동해서 웹페이지(View)쪽에서 어떤 변화가있고 데이터가 있을때와 없을때 어떻게 변화하는지 분석을 해보았다.그 결과 이전에 없었던 Tag등을 발견할 수 있었고, 또 그 변화된 데이터로인해 이전에 실행되지 않았던 javascript모듈이 실행된 것을 알 수가 있었다.\n그때 당시의 비슷한 HTML코드를 하나 첨부한다.조작된 데이터로 받아온 List\n1onclick=\"...ChangeGo(this.x.y);\" 부분에서 x부분이 아이템 고유번호였던것 같고 y는 이벤트 타입이였던것 같았다.\nAjax데이터를 한번 개로챘을뿐인데 이 많은 정보를 얻어낼 수가 있었다.\n나는 핵심적인 데이터를 손에 얻었다. Item의 key값과 모듈이 움직이는 구조와 이전에 없었던 태그들을 생성해냈다. 이제 마지막단계인 Insert단계만 남았다. 물론 직접적인 Insert 쿼리를 날릴수는 없지만 약간의 편법을 사용해보려고했다.\n이벤트 Item 5개를 모으면 새로운 아이템으로 교환해주는 시스템이 있었기 떄문이다.이제 이 모든 값을 조합하여서 1개밖에 없었던 내 아이템을 HTML편집기를 사용하여 1개 -&gt; 5개로 조작하였다. 그리고는 아이템교환을 신청했다.\n아이템 교환 결과위의 사진을 보면 알겠지만 아래에 떡이 5개가있어야 아이템을 교환할 수가 있었다. 그렇지만 여러 데이터를 조작하고 약간의 머리를 굴려본 결과 이벤트에 참여가되었고 게임머니 500,000BP를 획득하는 어처구니없는 일이 발생하였다.\n사실 될꺼라는 생각을 하지않고 시작하였다. 왜냐하면 서버측에서 나의 DB정보를 조회하고 이벤트에 참여시킬줄 알았다. 그런데 귀찮아서 개발을 안한건지 몰라서안한건지 알수는 없었지만 이벤트에 당첨되는 황당한결과를 만들어냈다. 글의 처음부분에 “#서버와 클라이언트의” 역할 에대해서 기술하였는데 방금전의 상황들은 서버와 클라이언트의 역할이 되지않고있었던 상황이었다. 나중에 소스코드를 들쳐보니 그냥 javascript로 Item의 Length를 검사하여 alert창만 띄우는 방식으로 처리가 되어있었다.\n사실 이렇게 개발을하는것은 허접한 사이트나 정말 초급개발자가 해버리는 실수일 수밖에 없다. 그런데 넥슨쪽에서 이렇게 개발을 했다는것이 조금 실망으로 다가오기도 했다. 그러나 사람이 하는 일이라 누구나 실수는 있을수도있다. 나도 이번일을 통해서 진행중인 프로젝트 소스의 질을 높이는 시간이 되었다. 그리고 보안쪽에 공부를 하며 신경을 써야겠다는 생각이 참 많이드는 일들이었다.\n이결과로 인해서 나는 넥슨쪽에 웹페이지의 취약점을 발견했다고 이메일을 보내는 것까지 조치를 취했다.하루만에 넥슨에서 답장이 왔다.\n#넥슨의 발빠른 조치넥슨의 발빠른 조치\n조치는 생각보다 빠르게 되었다. 답장이 오기전 몇번더 테스트를 해봤는데 당일에 취약점은 패치가되었고 답장은 다음날에 왔다.덕분에 3만원정도의 캐쉬를 선물받았다.. 용돈인가~_~?사실 대단한 일은 아니지만 호기심으로 인해서 재미있는 경험을 해본 에피소드를 블로그에 담아 나누어봤다. 개발을 즐겁게 한다는것은 이런것이 아닐까 생각이 많이든다.\n나는 호기심이 참 많아서 이상한(?)것을 좀 도전해보지만 그에따른 배움이 따라와서 기분은 좋다.나의 소스코드의 질을 높이는 시간이 되었고 자신감이 붙는 시간이 되었다.\n앞으로 즐기면서 개발하는 사람이 되도록 더더욱 생각이 든다. 즐겁게 개발하자.. \n","dateCreated":"2018-10-09T02:45:00+09:00","dateModified":"2020-11-26T07:05:00+09:00","datePublished":"2018-10-09T02:45:00+09:00","description":"개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.","headline":"웹 보안의 중요성 -넥슨의 실수- (The importance of web security)","image":[["2018.10.21_title.JPG"],["2018.10.21_title.JPG"]],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jungjoongi.com/2018/10/09/The-importance-of-web-security/"},"publisher":{"@type":"Organization","name":"jung joongi","sameAs":["https://github.com/jungjoongi","https://facebook.com/joongi.jung.kr","mailto:dev.joongi@gmail.com"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"https://jungjoongi.com/2018/10/09/The-importance-of-web-security/","keywords":"버그, 개발, 웹보안","thumbnailUrl":["2018.10.21_title.JPG"]}</script>
    <meta name="description" content="개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.">
<meta name="keywords" content="버그,개발,웹보안">
<meta property="og:type" content="blog">
<meta property="og:title" content="웹 보안의 중요성 -넥슨의 실수- (The importance of web security)">
<meta property="og:url" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/index.html">
<meta property="og:site_name" content="정준기의 개발공간 (dev.joongi)">
<meta property="og:description" content="개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_titleName.JPG">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_1.JPG">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_2.JPG">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_3.JPG">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_4.JPG">
<meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_5.JPG">
<meta property="og:updated_time" content="2020-11-25T22:05:00.777Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="웹 보안의 중요성 -넥슨의 실수- (The importance of web security)">
<meta name="twitter:description" content="개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.">
<meta name="twitter:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_titleName.JPG">
    
    
        
    
    
        <meta property="og:image" content="https://jungjoongi.com/assets/images/profile.jpg">
    
    
        <meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_title.JPG">
        <meta class="swiftype" name="image" data-type="enum" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_title.JPG">
    
    
        <meta property="og:image" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_title.JPG">
        <meta class="swiftype" name="image" data-type="enum" content="https://jungjoongi.com/2018/10/09/The-importance-of-web-security/2018.10.21_title.JPG">
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-errtmb7lpuakrbf5mqgmxfclx8cc00yjxynj4v4djijivlfnfc7kwvriyype.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-116953031-1', 'auto');
        ga('send', 'pageview');
    </script>


    
    <link rel="canonical" href="https://jungjoongi.com/2018/10/09/the-importance-of-web-security/">
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">정준기의 개발공간 (dev.joongi)</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture">
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture">
                </a>
                <h4 class="sidebar-profile-name">jung joongi</h4>
                
                    <h5 class="sidebar-profile-bio"><p>MyKtApp</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="Home">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="Categories">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="Tags">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="Archives">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/profile/" title="About">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/jungjoongi" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://facebook.com/joongi.jung.kr" target="_blank" rel="external nofollow noopener noreferrer" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="mailto:dev.joongi@gmail.com" target="_blank" rel="external nofollow noopener noreferrer" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/rss2.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-left
                    " style="background-image:url('/2018/10/09/The-importance-of-web-security/2018.10.21_title.JPG');" data-behavior="5">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            웹 보안의 중요성 -넥슨의 실수- (The importance of web security)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-10-09T02:45:00+09:00">
	
		    Oct 09, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/개발/">개발</a>


    
</div>

    
</div>

            
        </div>

            <div id="main" data-behavior="5" class="hasCover
                        hasCoverMetaIn
                        ">
                
<style>
    #loading {
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        position: fixed;
        display: block;
        background-color: #fff;
        z-index: 99;
        text-align: center;
    }

    html body {
        overflow: hidden;
        height: 100%
    }

    #loading-image {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 100;
    }

    #loading-text {
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 100;
        font-style: bold;
    }

    ol {
        padding: 0 0 0 20px;
        list-style: disc;
    }

    #coupang-layer-pop {
        position: fixed;
        width: 386px;
        height: 345px;
        padding: 16px;
        background-color: white;
        border: 1px dashed#c7c7c7;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
    }

    #ads {
        width: 360px;
        margin-top: 30px;
        position: absolute;
        top: 30px;
    }

    #content-list {
        font-size: 14px;
        margin-bottom: 20px;
    }

    #coupang-layer-button {
        position: absolute;
        right: 30px;
        bottom: 10px;
    }
</style>

<div id="loading"><img id="loading-image" src="/assets/images/loading.gif" alt="Loading..."><span id="loading-text">페이지가 로딩중입니다. 잠시만 기다려주세요</span></div>
<article class="post">
    

    
    <div id="coupang-layer-pop">
        <iframe src="https://ads-partners.coupang.com/iframe/search-bar?id=19092917192714204211009791-l1&type=l1&trackingCode=AF9416635" width="383px" height="75" frameborder="0" scrolling="no"></iframe>
        <iframe id="coupang-0" src="https://coupa.ng/bgdTAw" width="125px" height="240" frameborder="0" scrolling="no"></iframe>
        <iframe id="coupang-1" src="https://coupa.ng/bgdTbp" width="125px" height="240" frameborder="0" scrolling="no"></iframe>
        <iframe id="coupang-2" src="https://coupa.ng/bgd0rL" width="125px" height="240" frameborder="0" scrolling="no"></iframe>
        <button id="coupang-layer-button">close</button>
    </div>
    <div class="post-content markdown" style="margin:auto;max-width:1360px;">

        <div id="ads" class="ad-area">
            <div id="content-list">
                <h3 id="table-of-contents"></h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#서버와-클라이언트의-역할"><span class="toc-text">#서버와 클라이언트의 역할</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax-data를-가로채보자"><span class="toc-text">#Ajax data를 가로채보자</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#넥슨의-실수"><span class="toc-text">#넥슨의 실수</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#넥슨의-발빠른-조치"><span class="toc-text">#넥슨의 발빠른 조치</span></a></li></ol>
            </div>
            <!-- hexo-side1 -->
            <ins class="adsbygoogle" style="display:block;width:340px;" data-ad-client="ca-pub-5379974693765383" data-ad-slot="6166524771" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <div id="lastAds">
                <div class="coupang-ads">
                    <!-- <p id="coupang-title">2020년 11월 28일 쿠팡 Best50</p><span id="coupang-title-icon">HOT</span> -->
                    <p id="coupang-title"><iframe id="coupang-search" src="https://ads-partners.coupang.com/iframe/search-bar?id=19092917192714204211009791-l1&amp;type=l1&amp;trackingCode=AF9416635" width="383px" height="75" frameborder="0" scrolling="no"></iframe></p>
                    <div class="ads-wrap ads-wrap-first">
                        <img src="">
                        <p id="ads-first-name"></p>
                    </div>
                    <div class="ads-wrap ads-wrap-second">
                        <img src="">
                        <p id="ads-second-name"></p>
                    </div>
                    <p id="coupang-notice">*파트너스 활동을 통해 일정액의 수수료를 제공받을 수 있음</p>
                </div>
            </div>
        </div>

        <div id="main-content" class="main-content-wrap" style="margin-right:360px;">
            <p>개발 블로그를 개설하고 처음으로 쓰는 글이면서 새로운 마음가짐으로 시작을 하게된다.<br>처음 스타트를 어떻게 이어갈까 하다가 얼마전 있었던 (보안관련) 에피소드를 하나 적어보려고한다.<br><a id="more"></a><br><img src="2018.10.21_titleName.JPG" style="margin:auto"><br>지난 9월 마지막 주간이었나 그쯔음 있었던 일이었다.<br>이제 개발에 입문한지 얼마되지 않아 개발을 하면서 다른 웹사이트를 탐방하며 겪었던 에피소드이다. 개발에 들어선지 얼마 되지않아 타 웹사이트를 탐방하게 된것이 사건의 시작이었다.</p>
<p>슬슬 눈에 코드가 들어오고 돌아가는 구조가 보이게되면 타 사이트를 분석도 해보고 장난질? 도 해본 경험들쯤은 아마 있었을것 같다.<br>실제로 정말 허접하게 개발된 사이트도 많이 만나게되었고 웬만하게 잘 많들어놓은 사이트도 대다수 많이있었다.<br>그런데 이번에는 정말 큰 회사 <strong>넥슨</strong> 의 페이지를 장난질? 하다가 웹에서 <strong>클라이언트 데이터조작</strong>이 되어버린 사례를 공개하려고 한다.<br><!-- toc --></p>
<h2 id="서버와-클라이언트의-역할"><a href="#서버와-클라이언트의-역할" class="headerlink" title="#서버와 클라이언트의 역할"></a>#서버와 클라이언트의 역할</h2><p>먼저 웹에서는 크게 서버와 클라이언트로 나누어 볼 수가 있다.<br>웹을 개발할때에 특별한케이스가 아니라면 클라이언트쪽에서는 데이터를 조작하지 못하게 막아두는것이 맞을것이다.<br>기본이지만 보통 데이터를 처리하는 하는것은 서버에서 처리를 한다.</p>
<p>요즘은 Ajax 비동기 통신을 통해 클라이언트와 서버쪽이 json데이터로 통신을 하게된다. 그렇지만 json은 서버와 클라이언트의 중간에서 json형식으로 데이터를 주고받기만 할뿐 처리를 하는부분은 서버에서 전달받은 데이터로 처리를 하게된다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">클라이언트 (Ajax 요청) --&gt; 서버 (응답 --&gt; 내부적 처리 --&gt; 클라이언트 전달) --&gt; 클라이언트 처리된 결과 수신</span><br></pre></td></tr></table></figure>
<p>크게보면 웹사이트는 대부분 이러한 구조로 돌아가고있다.<br>물론 처리부분에서 내부적으로 많은일이 일어나겠지만 생략하겠다.</p>
<p>중요한 사실은 클라이언트쪽(html/javascript…등)은 브라우저에서 얼마든지 조작하고 넘겨버릴 수 있기때문에!!<br><strong>“스크립트로직으로 데이터 무결성을 책임지겠다?”</strong> 라는말은 절대로 있어서도 안될 일일 것이다.</p>
<p>그래서 서버와 클라이언트의 역할은 분명한 것이다. 클라이언트측에서 보안을 담당하는것은 절대로 있어서도 안될것이다. 나도 처음 아무것도 몰랐을때에 스크립트 로직으로 보안을 담당하려고했던 어리석은 시절이 있었기때문에 누구나 모르면 실수할 수도있다. 그렇지만 두번다시 반복된 실수는 있어서는 안된다. </p>
<p>이것이 왜 절대로 안되는것인지 간단한 예시를 통해서 보여주도록 하겠다.</p>
<p><img src="2018.10.21_1.JPG" alt="국내 커뮤니티 뽐뿌 - 데이터 조작전 예시"><span class="image-caption">국내 커뮤니티 뽐뿌 - 데이터 조작전 예시</span></p>
<p>허접한 페이지를 찾을수가 없어 정상적인 게시판을 통해 이야기를 하겠습니다.<br>노란 하이라이트를 보게되면 삭제하기버튼에 링크가 걸려있는게 delete명령을 수행하는 get방식 주소이다. url방식으로 서버에 정의해놓은 delete방식의 양식에따라 요청이 들어오면 삭제명령이 수행되는 것이다.<br>key값으로 게시글번호가 있다. 개발자도구로 이 게시글 번호쯤이야 조작해서 변경해버릴 수가 있다. 그래서 게시글 번호를 조작한 다음에 서버에 요청을 하면 어떤 결과가 일어날까? 내 게시글이 아닌 다른사람의 게시글이 삭제가 될까?</p>
<p><img src="2018.10.21_2.JPG" alt="국내 커뮤니티 뽐뿌 - 데이터 조작한 결과"><span class="image-caption">국내 커뮤니티 뽐뿌 - 데이터 조작한 결과</span></p>
<p>결론은 삭제가 되지 않는다. 왜냐하면! 클라이언트쪽에서 얼마든지 key값을 변경할 수 있기 때문이다. 삭제명령이 들어가면 보통 세션에 담겨있는 로그인 정보를 통해 확인을 하는 절치를 밟는다. 그래서 클라이언트쪽에서 로직으로 막아놓는것이 아니라 이것은 서버에서 담당을 해야하는 일이다.<br>아마 웬만한 사이트는 이정도의 보안취약점을 달고다니진 않을것이다.. </p>
<p>그런데 서론과 제목에 이야기했다시피 넥슨에 관련된 보안취약점을 발견한 것이다. 도대체 어떤 실수를 했는지 한번 알아보도록 하겠다.</p>
<h2 id="Ajax-data를-가로채보자"><a href="#Ajax-data를-가로채보자" class="headerlink" title="#Ajax data를 가로채보자"></a>#Ajax data를 가로채보자</h2><p>내가 가끔 즐겨하는 게임이 있다. 그것은 바로 넥슨에 있는 <strong>피파온라인4</strong><br>이 사건이 일어냈을때쯤은 아마 추석연휴였던것같다. 정확히는 기억이 나지 않는다. </p>
<p>피파온라인은 웹페이지에서 이벤트를 참 많이하는 게임중 하나이다.<br>예를들어 <strong>주사위 굴리기, 아이템 소비해서 랜덤하게 뽑기 등..</strong></p>
<p>시간이 오래되어 직접적인 코드는 볼순없지만 비슷한 구조로 되어있기때문에 현재 이벤트중인 페이지를 놓고 이야기를 해보겠다.</p>
<figure class="highlight javascript"><figcaption><span>FIFA ONLINE4 이벤트 스크립트 일부분</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> E181018AllInOne = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">this</span>.GetMyInfoForHeader = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">this</span>.GetMyInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (DefaultCheck()) &#123;</span><br><span class="line">            checkLoad();</span><br><span class="line">            $(<span class="string">"#GetMyInfo"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"return false;"</span>);</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $.ajax(&#123;</span><br><span class="line">                    type: <span class="string">"GET"</span>,</span><br><span class="line">                    contentType: <span class="string">"application/x-www-form-urlencoded; charset=UTF-8"</span>,</span><br><span class="line">                    url: <span class="string">'/181018/AllInOneAjaxInfo'</span>,</span><br><span class="line">                    dataType: <span class="string">'json'</span>,</span><br><span class="line">                    data: &#123; <span class="string">"strMethod"</span>: <span class="string">"getMyInfo"</span>, <span class="attr">rd</span>: <span class="built_in">Math</span>.random() &#125;,</span><br><span class="line">                    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;                        </span><br><span class="line">                        <span class="keyword">if</span> (data.retCode == <span class="number">0</span>) &#123;                            </span><br><span class="line">                            $(<span class="string">"#divUseAblePoint"</span>).html(comma(data.n4TotalPoint - data.n4TotalUsePoint));</span><br><span class="line">                            $(<span class="string">"#divTodayPoint"</span>).html(comma(data.n4TodayPoint));</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">"#strTodayPoint"</span>).html(comma(data.n4TodayPoint) + <span class="string">"P"</span>);</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">".coach_info"</span>).find(<span class="string">".mypoint"</span>).html(comma(data.n4TodayPoint));</span><br><span class="line">                            $(<span class="string">"#divTotalPoint"</span>).html(comma(data.n4TotalPoint));</span><br><span class="line">                            $(<span class="string">"#divWeekUseAblePoint"</span>).html(comma(data.n4ThisWeekRemainPoint));</span><br><span class="line">                            $(<span class="string">"#divWeekUsePoint"</span>).html(comma(data.n4ThisWeekUsePoint));</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">"#strWeekPoint"</span>).html(comma(data.n4ThisWeekUsePoint) + <span class="string">"P"</span>);</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">"#divTotalUseAblePoint"</span>).html(comma(data.n4TotalUsePoint - data.n4TotalChagePoint));</span><br><span class="line">                            $(<span class="string">"#divTotalUsePoint"</span>).html(comma(data.n4TotalUsePoint));</span><br><span class="line">                            </span><br><span class="line">                            <span class="keyword">if</span> (data.n4ThisWeekRemainPoint &gt;= <span class="number">100</span>) &#123;</span><br><span class="line">                                $(<span class="string">".eventinfo2"</span>).removeClass(<span class="string">"disable"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                $(<span class="string">".eventinfo2"</span>).addClass(<span class="string">"disable"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (data.n4TotalUsePoint - data.n4TotalChagePoint &gt;= <span class="number">150</span>) &#123;</span><br><span class="line">                                $(<span class="string">".eventinfo3"</span>).removeClass(<span class="string">"disable"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                $(<span class="string">".eventinfo3"</span>).addClass(<span class="string">"disable"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">"#EventInfo1"</span>).html(data.strEventHtml1);</span><br><span class="line">                            $(<span class="string">"#EventInfo2"</span>).html(data.strEventHtml2);</span><br><span class="line">                            $(<span class="string">"#EventInfo3"</span>).html(data.strEventHtml3);</span><br><span class="line">                            </span><br><span class="line">                            $(<span class="string">".group-a"</span>).hide();</span><br><span class="line">                            $(<span class="string">".group-b"</span>).hide();</span><br><span class="line">                            <span class="keyword">if</span> (data.n1ShowType == <span class="number">1</span>) &#123;</span><br><span class="line">                                $(<span class="string">".group-a"</span>).show();</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (data.n1ShowType == <span class="number">2</span>) &#123;</span><br><span class="line">                                $(<span class="string">".group-b"</span>).show();</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">".coach_info"</span>).find(<span class="string">".date"</span>).html(data.n4CurrentWeek + <span class="string">"주차 "</span> + data.strToday);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (data.n4CurrentWeek &gt; <span class="number">3</span>) &#123;</span><br><span class="line">                                $(<span class="string">"#secEvent2"</span>).removeClass(<span class="string">"before"</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode == <span class="number">1</span>) &#123;</span><br><span class="line">                            CommonEvent.Login();</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode == <span class="number">100</span>) &#123;</span><br><span class="line">                            ShowMessage(data.retMsg);                            </span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                            ShowMessage(GetMessage(data.retCode));</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            ShowMessage(<span class="string">"정의 되지 않은 오류가 발생 하였습니다."</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        checkLoadClear();</span><br><span class="line">                        $(<span class="string">"#GetMyInfo"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfo(); return false;"</span>);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr, status, exception</span>) </span>&#123;                        </span><br><span class="line">                        ShowMessage(<span class="string">"죄송합니다.\n조회에 실패하였습니다."</span>);</span><br><span class="line">                        $(<span class="string">"#GetMyInfo"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfo(); return false;"</span>);</span><br><span class="line">                        checkLoadClear();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            checkEnd();            </span><br><span class="line">            $(<span class="string">"#GetMyInfo"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfo(); return false;"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (DefaultCheck()) &#123;</span><br><span class="line">            $checkOn();</span><br><span class="line">            $(obj).attr(<span class="string">"onclick"</span>, <span class="string">"return false;"</span>);</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $.ajax(&#123;</span><br><span class="line">                    type: <span class="string">"GET"</span>,</span><br><span class="line">                    contentType: <span class="string">"application/x-www-form-urlencoded; charset=UTF-8"</span>,</span><br><span class="line">                    url: <span class="string">'/181018/AllInOneAjaxInfo'</span>,</span><br><span class="line">                    dataType: <span class="string">'json'</span>,</span><br><span class="line">                    data: &#123; <span class="string">"strMethod"</span>: <span class="string">"getMyInfo"</span>, <span class="attr">rd</span>: <span class="built_in">Math</span>.random() &#125;,</span><br><span class="line">                    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (data.retCode == <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (location.href.toLowerCase().indexOf(<span class="string">"/181018/allinone"</span>) &gt; <span class="number">-1</span>) &#123;  <span class="comment">//현재 페이지가 올인원 페이지 라면</span></span><br><span class="line">                                E181018AllInOne.GetMyInfo();</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">"#strTodayPoint"</span>).html(comma(data.n4TodayPoint) + <span class="string">"P"</span>);</span><br><span class="line">                            $(<span class="string">"#strWeekPoint"</span>).html(comma(data.n4ThisWeekUsePoint) + <span class="string">"P"</span>);</span><br><span class="line"></span><br><span class="line">                            $(<span class="string">".group-a"</span>).hide();</span><br><span class="line">                            $(<span class="string">".group-b"</span>).hide();</span><br><span class="line">                            <span class="keyword">if</span>(data.n1ShowType == <span class="number">1</span>)</span><br><span class="line">                            &#123;</span><br><span class="line">                                $(<span class="string">".group-a"</span>).show();                                </span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (data.n1ShowType == <span class="number">2</span>)</span><br><span class="line">                            &#123;</span><br><span class="line">                                $(<span class="string">".group-b"</span>).show();</span><br><span class="line">                            &#125;</span><br><span class="line">                            </span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode == <span class="number">1</span>) &#123;</span><br><span class="line">                            CommonEvent.Login();</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode == <span class="number">100</span>) &#123;</span><br><span class="line">                            ShowMessage(data.retMsg);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (data.retCode &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                            ShowMessage(GetMessage(data.retCode));</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            ShowMessage(<span class="string">"정의 되지 않은 오류가 발생 하였습니다."</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        $checkOff();</span><br><span class="line">                        $(obj).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfoForHeader(this); return false;"</span>);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    error: <span class="function"><span class="keyword">function</span> (<span class="params">xhr, status, exception</span>) </span>&#123;</span><br><span class="line">                        ShowMessage(<span class="string">"죄송합니다.\n조회에 실패하였습니다."</span>);</span><br><span class="line">                        $(obj).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfoForHeader(this); return false;"</span>);</span><br><span class="line">                        $checkOff();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            checkEnd();</span><br><span class="line">            $(<span class="string">"#GetMyInfo"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.GetMyInfo(); return false;"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">this</span>.ChangeConfirm = <span class="function"><span class="keyword">function</span> (<span class="params">obj, type1, point, n4currentweek</span>) </span>&#123;        </span><br><span class="line">        <span class="keyword">if</span> (DefaultCheck()) &#123;             </span><br><span class="line">            <span class="keyword">var</span> ThisUseAblePoint = <span class="built_in">parseInt</span>(uncomma($(<span class="string">"#divUseAblePoint"</span>).html()));</span><br><span class="line">            <span class="keyword">var</span> ThisWeekUsePoint = <span class="built_in">parseInt</span>(uncomma($(<span class="string">"#divWeekUseAblePoint"</span>).html()));</span><br><span class="line">            <span class="keyword">var</span> ThisTotalUsePoint = <span class="built_in">parseInt</span>(uncomma($(<span class="string">"#divTotalUseAblePoint"</span>).html()));</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(type1 == <span class="number">1</span>)</span><br><span class="line">            &#123;                </span><br><span class="line">                $(<span class="string">".layer_random .layerContent .txt"</span>).html(<span class="string">"&lt;strong&gt;5 포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt;뽑기를 진행하시겠습니까?"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .get_point .c"</span>).html(<span class="string">"-5"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .get_point .r"</span>).html(comma(ThisUseAblePoint - <span class="number">5</span>));</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .week_point .c"</span>).html(n4currentweek == <span class="number">7</span> ? <span class="string">"+0"</span> : <span class="string">"+5"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .week_point .r"</span>).html(n4currentweek == <span class="number">7</span> ? comma(ThisWeekUsePoint) :comma(ThisWeekUsePoint + <span class="number">5</span>));</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .total_point .c"</span>).html(<span class="string">"+5"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .total_point .r"</span>).html(comma(ThisTotalUsePoint + <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">                layerPopupOpen(<span class="string">'layer_random'</span>);</span><br><span class="line">                $(<span class="string">".layer_random"</span>).find(<span class="string">".btn_confirm"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.ChangeGo(this, 1); return false;"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(type1 == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .txt"</span>).html(<span class="string">"&lt;strong&gt;30 포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt;뽑기를 진행하시겠습니까?"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .get_point .c"</span>).html(<span class="string">"-30"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .get_point .r"</span>).html(comma(ThisUseAblePoint - <span class="number">30</span>));</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .week_point .c"</span>).html(n4currentweek == <span class="number">7</span> ? <span class="string">"+0"</span> : <span class="string">"+30"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .week_point .r"</span>).html(n4currentweek == <span class="number">7</span> ? comma(ThisWeekUsePoint) : comma(ThisWeekUsePoint + <span class="number">30</span>));</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .total_point .c"</span>).html(<span class="string">"+30"</span>);</span><br><span class="line">                $(<span class="string">".layer_random .layerContent .box .total_point .r"</span>).html(comma(ThisTotalUsePoint + <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line">                layerPopupOpen(<span class="string">'layer_random'</span>);</span><br><span class="line">                $(<span class="string">".layer_random"</span>).find(<span class="string">".btn_confirm"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.ChangeGo(this, 2); return false;"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(type1 == <span class="number">3</span> || type1 == <span class="number">4</span>) &#123;</span><br><span class="line">                layerPopupOpen(<span class="string">'layer_change'</span>);</span><br><span class="line">                $(<span class="string">".layer_change .layerContent .txt"</span>).html(<span class="string">"&lt;strong&gt;"</span> + point + <span class="string">"포인트(P)&lt;/strong&gt;를 사용하여&lt;br/&gt; 주간 보상 교환을 진행하시겠습니까?"</span>);</span><br><span class="line">                $(<span class="string">".layer_change"</span>).find(<span class="string">".btn_confirm"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.ChangeGo(this, "</span> + type1 + <span class="string">"); return false;"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                layerPopupOpen(<span class="string">'layer_change'</span>);</span><br><span class="line">                $(<span class="string">".layer_change .layerContent .txt"</span>).html(<span class="string">"&lt;strong&gt;"</span> + point + <span class="string">"&lt;/strong&gt;포인트(P)를 사용하여&lt;br/&gt; 누적 보상 교환을 진행하시겠습니까?"</span>);</span><br><span class="line">                $(<span class="string">".layer_change"</span>).find(<span class="string">".btn_confirm"</span>).attr(<span class="string">"onclick"</span>, <span class="string">"E181018AllInOne.ChangeGo(this, "</span> + type1 + <span class="string">"); return false;"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><em><strong>사실 코드 내용보다는 구조적인것을 설명하기위해서 코드를 가져다가 붙여놓았다.</strong></em></p>
<p>프론트단에서는 모듈형식으로 로직이 짜여져있다. 서버와 통신은 전부 Ajax(json)로 통신을 하고있는 구조이다.<br>서버에 포인트를 <strong>조회</strong>하라는 명령을 내리고 서버는 포인트를 조회해 Ajax(json)으로 넘겨주면 프론트에서 넘겨받은 데이터로 로직이 짜여있다.여기까지는 잘 되어있다.<br>그렇지만 방금전 <em><strong>국내 커뮤니티 뽐뿌 - 데이터 조작전 예시</strong></em> 를 봤으면 알겠지만 우리는 개발자도구로 이 모든것을 편집할 수가 있다.</p>
<p>HTML, CSS는 물론 JAVASCRIPT까지 모두 실시간으로 편집할 수가 있다.<br><strong>그래서 나는 조회를 할때에 ajax통신을 하고난 후 그 결과의 data를 중간에서 가로채고 그 데이터를 변조하였다.</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">예를들어 이렇게 데이터를 받아온다고 가정했을때 중간에 그 데이터를 가로채서 변조하였다.</span><br><span class="line">과정 ==&gt;</span><br><span class="line">data = &#123;todayPoint:<span class="number">10</span>, totalPoint:<span class="number">10</span>&#125;  <span class="comment">// 처음 받아온 값</span></span><br><span class="line">data.todayPoint = <span class="number">20</span>;</span><br><span class="line">data.totalPoint = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">결과 =&gt;</span><br><span class="line">data = &#123;todayPoint:<span class="number">20</span>, totalPoint:<span class="number">100</span>&#125; <span class="comment">// 중간에 변조한 값</span></span><br></pre></td></tr></table></figure></p>
<p>사실 Ajax통신한 결과값 데이터를 가로챈다는것은 매우 자연스러운일 일수도 있고 누구든지 쉽게 할 수 있는것이다.<br>나는 이러한 결과로 포인트가 적어서 활성화가 되지 않았던 버튼들이 활성화가 되었고 그 이후의 작업을 연장해 나갈 수가 있었다.</p>
<p>과연, 이러한 결과로 인해서 데이터 조작이 성공할까? </p>
<h2 id="넥슨의-실수"><a href="#넥슨의-실수" class="headerlink" title="#넥슨의 실수"></a>#넥슨의 실수</h2><p>나는 가로챈 데이터를 통해서 어러 모듈에 얽여있는 잠금(?)들이 풀려나가서 Insert를 할수있는 환경을 만들어나갔다.<br>여태까지는 받아온 데이터를 동해서 웹페이지(View)쪽에서 어떤 변화가있고 데이터가 있을때와 없을때 어떻게 변화하는지 분석을 해보았다.<br>그 결과 이전에 없었던 Tag등을 발견할 수 있었고, 또 그 변화된 데이터로인해 이전에 실행되지 않았던 javascript모듈이 실행된 것을 알 수가 있었다.</p>
<p><strong>그때 당시의 비슷한 HTML코드를 하나 첨부한다.</strong><br><img src="2018.10.21_3.JPG" alt="조작된 데이터로 받아온 List"><span class="image-caption">조작된 데이터로 받아온 List</span></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onclick=<span class="string">"...ChangeGo(this.x.y);"</span> 부분에서 x부분이 아이템 고유번호였던것 같고 y는 이벤트 타입이였던것 같았다.</span><br></pre></td></tr></table></figure>
<p><strong>Ajax데이터를 한번 개로챘을뿐인데 이 많은 정보를 얻어낼 수가 있었다.</strong></p>
<p>나는 핵심적인 데이터를 손에 얻었다. Item의 key값과 모듈이 움직이는 구조와 이전에 없었던 태그들을 생성해냈다. 이제 마지막단계인 Insert단계만 남았다. 물론 직접적인 Insert 쿼리를 날릴수는 없지만 약간의 편법을 사용해보려고했다.</p>
<p>이벤트 Item 5개를 모으면 새로운 아이템으로 교환해주는 시스템이 있었기 떄문이다.<br>이제 이 모든 값을 조합하여서 1개밖에 없었던 내 아이템을 HTML편집기를 사용하여 1개 -&gt; 5개로 조작하였다. 그리고는 아이템교환을 신청했다.</p>
<p><img src="2018.10.21_4.JPG" alt="아이템 교환 결과"><span class="image-caption">아이템 교환 결과</span><br>위의 사진을 보면 알겠지만 아래에 떡이 5개가있어야 아이템을 교환할 수가 있었다. 그렇지만 여러 데이터를 조작하고 약간의 머리를 굴려본 결과 이벤트에 참여가되었고 게임머니 500,000BP를 획득하는 어처구니없는 일이 발생하였다.</p>
<p>사실 될꺼라는 생각을 하지않고 시작하였다. 왜냐하면 서버측에서 나의 DB정보를 조회하고 이벤트에 참여시킬줄 알았다. 그런데 귀찮아서 개발을 안한건지 몰라서안한건지 알수는 없었지만 이벤트에 당첨되는 황당한결과를 만들어냈다. 글의 처음부분에 <strong>“#서버와 클라이언트의”</strong> 역할 에대해서 기술하였는데 방금전의 상황들은 서버와 클라이언트의 역할이 되지않고있었던 상황이었다. 나중에 소스코드를 들쳐보니 그냥 javascript로 Item의 Length를 검사하여 alert창만 띄우는 방식으로 처리가 되어있었다.</p>
<p>사실 이렇게 개발을하는것은 허접한 사이트나 정말 초급개발자가 해버리는 실수일 수밖에 없다. 그런데 넥슨쪽에서 이렇게 개발을 했다는것이 조금 실망으로 다가오기도 했다. 그러나 사람이 하는 일이라 누구나 실수는 있을수도있다. 나도 이번일을 통해서 진행중인 프로젝트 소스의 질을 높이는 시간이 되었다. 그리고 보안쪽에 공부를 하며 신경을 써야겠다는 생각이 참 많이드는 일들이었다.</p>
<p>이결과로 인해서 나는 넥슨쪽에 웹페이지의 취약점을 발견했다고 이메일을 보내는 것까지 조치를 취했다.<br>하루만에 넥슨에서 답장이 왔다.</p>
<h2 id="넥슨의-발빠른-조치"><a href="#넥슨의-발빠른-조치" class="headerlink" title="#넥슨의 발빠른 조치"></a>#넥슨의 발빠른 조치</h2><p><img src="2018.10.21_5.JPG" alt="넥슨의 발빠른 조치"><span class="image-caption">넥슨의 발빠른 조치</span></p>
<p>조치는 생각보다 빠르게 되었다. 답장이 오기전 몇번더 테스트를 해봤는데 당일에 취약점은 패치가되었고 답장은 다음날에 왔다.<br>덕분에 3만원정도의 캐쉬를 선물받았다.. 용돈인가~_~?<br>사실 대단한 일은 아니지만 호기심으로 인해서 재미있는 경험을 해본 에피소드를 블로그에 담아 나누어봤다. 개발을 즐겁게 한다는것은 이런것이 아닐까 생각이 많이든다.</p>
<p>나는 호기심이 참 많아서 이상한(?)것을 좀 도전해보지만 그에따른 배움이 따라와서 기분은 좋다.<br>나의 소스코드의 질을 높이는 시간이 되었고 자신감이 붙는 시간이 되었다.</p>
<p>앞으로 즐기면서 개발하는 사람이 되도록 더더욱 생각이 든다. 즐겁게 개발하자.. </p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap" style="max-width:960px">
        
        <div class="post-footer-tags">
            <span class="text-color-light text-small">
                TAGGED IN</span><br>
            
    <a class="tag tag--primary tag--small t-link" href="/tags/개발/">개발</a> <a class="tag tag--primary tag--small t-link" href="/tags/버그/">버그</a> <a class="tag tag--primary tag--small t-link" href="/tags/웹보안/">웹보안</a>

        </div>
        
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/10/22/coding-interview-01-post/" data-tooltip="코딩인터뷰 완전분석 - I. 면접과정 (실리콘밸리 합격사례)" aria-label="PREVIOUS: 코딩인터뷰 완전분석 - I. 면접과정 (실리콘밸리 합격사례)">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Facebook" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Twitter" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Google+" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="Table of Contents">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- hexo-text -->
        <ins class="adsbygoogle" style="display:block;margin-bottom: 10px;" data-ad-client="ca-pub-5379974693765383" data-ad-slot="8538682456" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        
        
        <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        
        
    </div>
</article>
<script>



</script>

                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 jung joongi. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/10/22/coding-interview-01-post/" data-tooltip="코딩인터뷰 완전분석 - I. 면접과정 (실리콘밸리 합격사례)" aria-label="PREVIOUS: 코딩인터뷰 완전분석 - I. 면접과정 (실리콘밸리 합격사례)">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Facebook" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Twitter" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="_blank" href="https://plus.google.com/share?url=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" title="Share on Google+" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="Table of Contents">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="5">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://twitter.com/intent/tweet?text=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="_blank" href="https://plus.google.com/share?url=https://jungjoongi.com/2018/10/09/The-importance-of-web-security/" rel="external nofollow noopener noreferrer">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture">
        
            <h4 id="about-card-name">jung joongi</h4>
        
            <div id="about-card-bio"><p>MyKtApp</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>JAVA Backend Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br>
                South.Korea
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/covers.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-jdlw22mmjtouuvefyryrwixdi88trg3inumxwcswn4kceeixspgjzuls3rem.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'https://jungjoongi.com/2018/10/09/The-importance-of-web-security/';
                 
                    this.page.identifier = '2018/10/09/The-importance-of-web-security/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'jungjoongi';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    </body>
</html>
